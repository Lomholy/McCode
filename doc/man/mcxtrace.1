.\" Automatically generated by Pandoc 2.17.1.1
.\"
.\" Define V font for inline verbatim, using C font in formats
.\" that render this, and otherwise B font.
.ie "\f[CB]x\f[]"x" \{\
. ftr V B
. ftr VI BI
. ftr VB B
. ftr VBI BI
.\}
.el \{\
. ftr V CR
. ftr VI CI
. ftr VB CB
. ftr VBI CBI
.\}
.TH "MCXTRACE" "1" "July 2024" "" ""
.hy
.SH NAME
.PP
\f[B]mcstas\f[R] Compiler of the McStas ray-trace simulation package
.SH SYNOPSIS
.PP
\f[B]mcstas\f[R] [-o file] [-I dir1 \&...]
[-t] [-p] [-v] [\[en]no-main] [\[en]no-runtime] [\[en]verbose] file
.SH DESCRIPTION
.PP
The compiler for the McStas instrument definition is invoked by typing a
command of the form \f[V]mcstas name.instr\f[R] in a shell or command
prompt.
This will read the beamline definition \f[V]name.instr\f[R] which is
written in the McStas meta-language.
The compiler will translate the instrument definition into a Monte Carlo
simulation program provided in ISO-C.
The output is by default written to a file in the current directory with
the same name as the instrument file, but with extension \f[V].c\f[R]
rather than \f[V].instr\f[R].
This can be overridden using the \f[V]-o\f[R] option as follows:
\f[V]mcstas -o code.c name.instr\f[R] which gives the output in the file
\f[V]code.c\f[R].
A single dash \f[V]-\f[R] may be used for both input and output filename
to represent standard input and standard output, respectively.
The default component search list is usually defined by the environment
variable \f[V]MCXTRACE\f[R] (default is
\f[V]/usr/share/mcstas/resources\f[R]).
.PP
Often, it will be more convenient to use the front-end program
\f[V]mcgui\f[R] or \f[V]mcrun\f[R].
These front-ends will compile and run the simulations automatically.
.SH OPTIONS
.TP
\f[B]-o FILE \[en]output-file=FILE\f[R]
Place C output in file FILE.
.TP
\f[B]-I DIR \[en]search-dir=DIR\f[R]
Append DIR to the component search list.
.TP
\f[B]-t \[en]trace\f[R]
Enable `trace' mode for instrument display.
.TP
\f[B]-v \[en]version\f[R]
Prints McStas version.
.TP
\f[B]\[en]no-main\f[R]
Do not create main(), for external embedding.
.TP
\f[B]\[en]no-runtime\f[R]
Do not embed run-time libraries.
.TP
\f[B]\[en]verbose\f[R]
Display compilation process steps.
.TP
\f[B]\[en]source\f[R]
Embed the instrument source code in executable.
.SH FILES
.PP
/usr/share/mcstas/resources
.SH EXAMPLES
.TP
Translate the \f[I]Test_SX\f[R] example (Single crystal diffraction) into C
.IP \[bu] 2
\f[V]mcstas Test_SX.instr\f[R]
.IP \[bu] 2
\f[V]gcc Test_SX.instr -o Test_SX.out -lm\f[R]
.SH AUTHORS
.PP
McStas Team (mcstas.org)
.SH SEE ALSO
.PP
mcstas(1), mcdoc(1), mcplot(1), mcrun(1), mcgui(1), mcdisplay(1)
.SH AUTHORS
McStas Neutron Ray Tracing Team.
